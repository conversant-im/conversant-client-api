<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Conversant-client-api by conversant-im</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Conversant-client-api</h1>
        <h2>Javascript API for conversant.im apps.</h2>
        <a href="https://github.com/conversant-im/conversant-client-api" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">

          <article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1><a id="user-content-conversant-client-api" class="anchor" href="#conversant-client-api" aria-hidden="true"><span class="octicon octicon-link"></span></a>conversant-client-api</h1>

            <p>Javascript API for conversant.im apps.
              Write custom applications that allow you and your team to collaborate and store conversation and view state <code>in context</code>. </p>

            <h2><a id="user-content-index" class="anchor" href="#index" aria-hidden="true"><span class="octicon octicon-link"></span></a>Index</h2>

            <ul>
              <li><a href="https://www.conversant.im">conversant.im</a></li>
              <li><a href="http://conversant-im.github.io/conversant-client-api/">developer api</a></li>
              <li><a href="http://conversant-im.github.io/conversant-client-api/docs.html">api documentation</a></li>
              <li><a href="https://nxtwv.conversant.im/client">live chat</a></li>
              <li><a href="https://github.com/conversant-im/conversant-client-api/issues">issues / bugs</a></li>
            </ul>

            <h2><a id="user-content-overview" class="anchor" href="#overview" aria-hidden="true"><span class="octicon octicon-link"></span></a>Overview</h2>

            <p>This api relies on a streaming based approach.  The underly data types describe the messages that can be pushed onto the stream or subscribed to react to when seen on the stream.  The first part of this documentation will server to outline terminology used in the system, as well as illustrate the flow of data through the system architecture. </p>

            <h3><a id="user-content-terminology" class="anchor" href="#terminology" aria-hidden="true"><span class="octicon octicon-link"></span></a>Terminology</h3>

            <p>Your application can exist in 2 <code>states</code>.</p>

            <ul>
              <li><code>personal</code> is the application state that each individual user sees the application in the <code>application panel</code>.  This state is the workspace that is unique to each user as they prepare content to be collaborated on in the <code>sync</code> state.</li>
              <li><code>sync</code> is a shared application view that is common to all users that are present in the collaboration.  Each users interactions to your app in the <code>sync</code> state should update all other views accordingly.</li>
            </ul>

            <p><a href="https://camo.githubusercontent.com/e1e7382da20a3a0464f83ad0e98aecb8383285df/687474703a2f2f636f6e76657273616e742d696d2e6769746875622e696f2f636f6e76657273616e742d636c69656e742d6170692f696d616765732f617069312e706e67" target="_blank"><img src="https://camo.githubusercontent.com/e1e7382da20a3a0464f83ad0e98aecb8383285df/687474703a2f2f636f6e76657273616e742d696d2e6769746875622e696f2f636f6e76657273616e742d636c69656e742d6170692f696d616765732f617069312e706e67" alt="diagram" data-canonical-src="http://conversant-im.github.io/conversant-client-api/images/api1.png" style="max-width:100%;"></a></p>

            <h4><a id="user-content-a-word-on-restoring-state" class="anchor" href="#a-word-on-restoring-state" aria-hidden="true"><span class="octicon octicon-link"></span></a>A word on restoring state.</h4>

            <p>Your application is responsible for reporting <code>view state</code> when a user enter messages into the chat stream.  In addition users can <code>restore</code> state at the instance of a paticular chat message.  Your application will receive this restore state and must respond to restore your applications state to the one reported.</p>

            <h4><a id="user-content-data-flow" class="anchor" href="#data-flow" aria-hidden="true"><span class="octicon octicon-link"></span></a>Data flow.</h4>

            <p>You application is hosted in an iframe. Commonication with the iframe is brokered through the <code>window.postMessage</code> api.  The main conversant application connects to the cluster via a websocket.  Messages all have a strong <code>type</code>.  These types are the basis for interacting with the system.  For more information on the <code>types</code> that are available to use as a thirs party developer, view the <code>types</code> documentation.</p>

            <ul>
              <li><code>conversant root</code> is the conversant.im site that maintains the websocket connection to the backend cluster.</li>
              <li><code>hosted application</code> referse to all applications that are loaded in the <code>personal</code> or <code>sync</code> iframes.  These applications are communicated with over the <code>postMessage</code> channel.</li>
            </ul>

            <p>Data that enters the system via the websocket is pused to applications to react to.  Additionally data that is pushed onto the stream will eventually make its way to the cluster via the websocket and results will be pushed down to the <code>conversant root</code> and then made available to your <code>hosted application</code>.</p>

            <h2><a id="user-content-usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

            <h3><a id="user-content-node" class="anchor" href="#node" aria-hidden="true"><span class="octicon octicon-link"></span></a>Node</h3>

<pre lang="nodejs"><code>npm install conversant-client-api
</code></pre>

            <p>The use the <code>require</code> in your own module.  ex:</p>

<pre lang="nodejs"><code>let conversant = require('conversant-client-api')
</code></pre>

            <h3><a id="user-content-browser" class="anchor" href="#browser" aria-hidden="true"><span class="octicon octicon-link"></span></a>Browser</h3>

            <p>To simply include the file in a web browser and use the window level api, you can include the <code>bundle.js</code> which includes everything you need to get running in a modern web browser.  </p>

            <div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>bundle.js<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;</pre></div>

            <p>Alternativly you can build the latest source using <code>node</code> with the following command.</p>

<pre lang="nodejs"><code>node build.js
</code></pre>
          </article>

        </section>

        <aside id="sidebar">
          <a href="https://github.com/conversant-im/conversant-client-api/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/conversant-im/conversant-client-api/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="/docs.html">docs</a></p>
          <p class="repo-owner"><a href="https://github.com/conversant-im/conversant-client-api"></a> is maintained by <a href="https://github.com/conversant-im">conversant-im</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
